services:
  openproject:
    image: docker.io/openproject/openproject:17
    container_name: pmkit-openproject
    restart: unless-stopped
    ports:
      - "${PORT:-8080}:80"
    environment:
      OPENPROJECT_HOST__NAME: "${OPENPROJECT_HOST_NAME:-localhost:8080}"
      OPENPROJECT_HTTPS: "${OPENPROJECT_HTTPS:-false}"
      SECRET_KEY_BASE: "${OPENPROJECT_SECRET_KEY_BASE:-secret}"
    volumes:
      - "pgdata:/var/openproject/pgdata"
      - "assets:/var/openproject/assets"

volumes:
  pgdata:
  assets:
